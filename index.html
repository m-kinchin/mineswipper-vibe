<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#e8e8e8">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Minesweeper</title>
</head>
<body>
  <div id="app">
    <div id="header">
      <h1>Minesweeper</h1><button id="settings-btn" class="icon-btn" title="Settings">⚙️</button>
    </div>
    <div id="controls">
      <button id="beginner" class="level-btn active" title="9×9 grid, 10 mines">Beginner</button>
      <button id="master" class="level-btn" title="16×16 grid, 40 mines">Master</button>
      <button id="expert" class="level-btn" title="30×16 grid, 99 mines">Expert</button>
      <button id="custom" class="level-btn" title="Custom grid size and mines">Custom</button>
    </div>
    <div id="status">
      <span id="mine-count">Mines: 10</span>
      <span id="timer">Time: 0</span>
      <span id="game-status"></span>
    </div>
    <div id="board"></div>
  </div>
  
  <!-- Rotate Device Modal -->
  <div id="rotate-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content rotate-content">
      <div class="rotate-icon">
        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <!-- Tilted phone with rounded corners -->
          <g transform="rotate(-45 40 40)">
            <rect x="28" y="18" width="24" height="44" rx="4" ry="4" />
            <!-- Speaker/notch -->
            <line x1="36" y1="24" x2="44" y2="24" />
          </g>
          <!-- Top-left curved arrow (going clockwise: starts bottom, curves to right) -->
          <path d="M10 28 Q10 10 28 10" fill="none" />
          <!-- Arrowhead at end (28,10), pointing right -->
          <polyline points="24,6 28,10 24,14" fill="none" />
          <!-- Bottom-right curved arrow (going clockwise: starts top, curves to left) -->
          <path d="M70 52 Q70 70 52 70" fill="none" />
          <!-- Arrowhead at end (52,70), pointing left -->
          <polyline points="56,66 52,70 56,74" fill="none" />
        </svg>
      </div>
      <p>Please rotate your device horizontally for a better experience</p>
      <div class="modal-buttons">
        <button id="rotate-ok" class="modal-btn primary">OK</button>
      </div>
    </div>
  </div>
  
  <!-- Resume Game Modal -->
  <div id="resume-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <h2>Resume Game?</h2>
      <p id="resume-modal-text">You have a saved game in progress.</p>
      <div class="modal-buttons">
        <button id="resume-yes" class="modal-btn primary">Resume</button>
        <button id="resume-no" class="modal-btn">New Game</button>
      </div>
    </div>
  </div>
  
  <!-- Settings Modal -->
  <div id="settings-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content settings-content">
      <div class="modal-header">
        <h2>Settings</h2>
        <button id="settings-close" class="close-btn" title="Close">✕</button>
      </div>
      <div class="settings-section">
        <label for="theme">Theme:</label>
        <select id="theme">
          <option value="default">Modern Light</option>
          <option value="dark">Dark Mode</option>
          <option value="classic">Classic Win98</option>
        </select>
      </div>
      <div class="settings-section">
        <label>Cell Size:</label>
        <div class="size-buttons">
          <button class="size-btn active" data-size="small" title="Small">A</button>
          <button class="size-btn" data-size="medium" title="Medium">A</button>
          <button class="size-btn" data-size="large" title="Large">A</button>
        </div>
      </div>
      <div class="settings-version">
        <span id="app-version">v1.0.0</span>
      </div>
    </div>
  </div>
  
  <!-- Custom Difficulty Modal -->
  <div id="custom-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content custom-content">
      <div class="modal-header">
        <h2>Custom Difficulty</h2>
        <button id="custom-close" class="close-btn" title="Close">✕</button>
      </div>
      <div class="custom-form">
        <div class="custom-field">
          <label for="custom-rows">Rows:</label>
          <input type="number" id="custom-rows" min="5" max="30" value="10">
          <span class="field-hint">(5-30)</span>
        </div>
        <div class="custom-field">
          <label for="custom-cols">Columns:</label>
          <input type="number" id="custom-cols" min="5" max="50" value="10">
          <span class="field-hint">(5-50)</span>
        </div>
        <div class="custom-field">
          <label for="custom-mines">Mines:</label>
          <input type="number" id="custom-mines" min="1" value="15">
          <span class="field-hint" id="mines-hint">(1-80)</span>
        </div>
        <div id="custom-error" class="custom-error hidden"></div>
        <div class="modal-buttons">
          <button id="custom-start" class="modal-btn primary">Start Game</button>
          <button id="custom-cancel" class="modal-btn">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  
  <script type="module" src="./src/main.ts"></script>
</body>
</html>
